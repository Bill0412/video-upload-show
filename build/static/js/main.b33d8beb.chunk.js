(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{28:function(e,a,t){e.exports=t(49)},33:function(e,a,t){},34:function(e,a,t){},49:function(e,a,t){"use strict";t.r(a);var n=t(1),o=t.n(n),c=t(25),r=t.n(c),l=(t(33),t(21)),s=(t(34),t(9)),i=t(17),d=t(10),m=function(e){return o.a.createElement("div",{className:"filler",style:{width:"".concat(e.percentage,"%")}})},u=function(e){return o.a.createElement("div",{className:"row progress-container",id:e.id},o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-5"},e.filename),o.a.createElement("div",{className:"col-sm-12 col-md-7 col-lg-4 progress-bar"},o.a.createElement(m,{percentage:e.percentage})),o.a.createElement("div",{className:"col-sm-6 col-md-2 col-lg-1 upload-percent"},e.percentage,"%"),100===e.percentage?o.a.createElement("div",{className:"col-sm-6 col-md-3 col-lg-1 upload-state"},"Success"):0===e.percentage?o.a.createElement("div",{className:"col-sm-6 col-md-3 col-lg-1 upload-state"},"Waiting"):o.a.createElement("div",{className:"col-sm-6 col-md-3 col-lg-1 upload-state"},"Uploading"))},p=0,g={apiKey:"AIzaSyAAJ11KSyoF72gWXLxsR1dD3V_Udoj8jxc",authDomain:"video-c34ea.firebaseapp.com",databaseURL:"https://video-c34ea.firebaseio.com",projectId:"video-c34ea",storageBucket:"video-c34ea.appspot.com",messagingSenderId:"216349406039",appId:"1:216349406039:web:ec24a29f93432dde3dc412",measurementId:"G-7BS6XD2MXQ"},f=function(e){var a=Object(n.useState)([]),t=a[0],c=a[1];s.apps.length||s.initializeApp(g);var r=s.storage().ref();return o.a.createElement("div",{className:"App"},o.a.createElement("h2",null,"Please choose the video files to upload."),o.a.createElement(i.b,{to:"show"},"Videos Uploaded"),o.a.createElement("div",{className:"input-box"},o.a.createElement("input",{type:"file",onChange:function(e){console.log(e.target.files[0]);for(var a=function(a){var t=e.target.files[a];t.id=p++,t.progress=0,console.log(t),c((function(e){return[].concat(Object(l.a)(e),[t])}))},t=0;t<e.target.files.length;t++)a(t)},multiple:!0}),o.a.createElement("button",{onClick:function(e){var a=[];t.forEach((function(e){if(0===e.progress){var t=r.child(e.name).put(e);a.push(t),t.on(s.storage.TaskEvent.STATE_CHANGED,(function(e){var a=e.bytesTransferred/e.totalBytes*100;a=Number(a.toFixed(2));var t=e.task.blob_.data_.id;e.state===s.storage.TaskState.RUNNING&&c((function(e){return e.find((function(e){return e.id===t})).progress=a,Object(l.a)(e)}))}),(function(e){return console.log(e.code)}))}})),console.log(a),Promise.all(a).then((function(){console.log("All files uploaded")})).catch((function(e){return console.log(e.code)}))}},"Upload")),o.a.createElement("div",{className:"progress-bars"},function(){var e=[];return t.forEach((function(a){e.push(o.a.createElement("li",{key:a.id},o.a.createElement(u,{id:a.id,percentage:a.progress,filename:a.name})))})),e}()))},h=function(){var e=Object(n.useState)({error:null,isLoaded:!1,snippets:[]}),a=e[0],t=e[1];return s.apps.length||s.initializeApp(g),s.storage().ref().child("/").listAll().then((function(e){var a=[];return e.items.forEach((function(e){var t=e.getDownloadURL();a.push(t)})),a})).then((function(e){Promise.all(e).then((function(e){var a=[];e.forEach((function(e){a.push(o.a.createElement("li",{key:e},o.a.createElement("div",{className:"video"},o.a.createElement("video",{width:"480",height:"320",autoPlay:!0,controls:!0},o.a.createElement("source",{type:"video/mp4",src:e})))))})),t({isLoaded:!0,snippets:a})}))})),a.error?o.a.createElement("div",null,"Error: ",a.error.message):a.isLoaded?o.a.createElement("div",{className:"App"},o.a.createElement("h2",null,"Videos Uploaded"),o.a.createElement(i.b,{to:"/"},"Upload More"),o.a.createElement("div",{className:"row"},a.snippets)):o.a.createElement("div",null,"Loading...")},E=function(){return o.a.createElement("h2",null,"Page not Found!")},v=function(){return o.a.createElement(i.a,null,o.a.createElement(d.c,null,o.a.createElement(d.a,{exact:!0,path:"/show",component:h}),o.a.createElement(d.a,{exact:!0,path:"/",component:f}),o.a.createElement(d.a,{component:E})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.b33d8beb.chunk.js.map